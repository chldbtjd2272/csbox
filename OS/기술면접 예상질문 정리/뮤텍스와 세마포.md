# 뮤텍스와 세마포

## 뮤텍스
**상호배제(mutual exclusion, Mutex, 뮤텍스)** 란, 동시 프로그래밍에서 공유 불가능한 자원의 동시 사용을 피하기 위해 사용되는 알고리즘
- 임계 구역(critical section)으로 불리는 코드 영역에 의해 구현된다
    - **임계 구역**이란? 병렬 컴퓨팅에서 둘 이상의 스레드가 동시에 접근해서는 안되는 공유자원을 뜻한다
    - 한 스레드가 자원을 독점하듯이 사용하는 경우
    - 스레드가 공유자원의 배타적인 사용을 보장받기 위해서는 임계 구역에 들어가거나 나올 때 세마포어를 사용

공유 불가능한 자원의 예
- 동시에 실행되고 있는 프로그램간의 통신에 사용되는 비트 단위의 깃발
- 계수기
- 큐 ...
    - 그러나 문제, 스레드는 언제라도 정지되거나 시작될 수 았음

## 세마포
**세마포**는, 상호배제와 비슷하나 카운터 개념을 활용한다.  
유닉스 시스템의 프로그래밍에서 세마포는 OS의 리소스를 경쟁적으로 사용하는 다중 프로세스에서 행동을 조정하거나 또는 동기화 시키는 기술이다.

## 뮤텍스와 세마포
| 뮤텍스                                                             | 세마포                                                     |
|--------------------------------------------------------------------|------------------------------------------------------------|
| 뮤텍스는 세마포가 될 수 없다                                       | 세마포는 뮤텍스가 될 수 있다                               |
| 소유가 가능하며 소유주가 모든 책임을 진다                          | 소유할 수 없다                                             |
| 뮤텍스를 소유하고 있는 스레드가 이 뮤텍스를 해제할 수 있다         | 세마포를 소유하지 않는 스레드가 세마포를 해제할 수 있다    |
| 프로세스 범위를 가지며 프로세스가 종료될 때 자동으로 clean up 된다 | 시스템 범위에 걸쳐있고 파일시스템상의 파일 형태로 존재한다 |

**가장 큰 차이점**
- 관리하는 동기화 대상의 갯수
    - 뮤텍스, 동기화 대상이 오직 하나뿐일 때 사용함
    - 세마포, 동기화 대상이 하나 이상일 때 사용함